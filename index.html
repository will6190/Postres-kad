<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Menú de Postres</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    table {
      width: 60%;
      margin: 20px auto;
      border-collapse: collapse;
    }

    th, td {
      padding: 12px;
      border: 1px solid #ccc;
      text-align: center;
    }

    tr:hover {
      background-color: #f9f0f8;
      cursor: pointer;
    }

    #submenu {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      border: 2px solid #ffb6c1;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
      z-index: 1000;
    }

    #submenu select, #submenu button {
      width: 100%;
      margin: 10px 0;
      padding: 8px;
      font-size: 14px;
    }

    #carrito {
      width: 60%;
      margin: 20px auto;
      border: 2px dashed #d63384;
      padding: 10px;
    }

    #carrito ul {
      list-style: none;
      padding: 0;
    }
  </style>
</head>
<body>

<h2 style="text-align:center;">Menú de Postres</h2>

<table>
  <thead>
    <tr>
      <th>Postre</th>
      <th>Precio</th>
    </tr>
  </thead>
  <tbody>
    <tr onclick="abrirSubmenu('Pastel de chocolate', 120)">
      <td>Pastel de chocolate</td>
      <td>$120</td>
    </tr>
    <tr onclick="abrirSubmenu('Cupcake de vainilla', 35)">
      <td>Cupcake de vainilla</td>
      <td>$35</td>
    </tr>
    <tr onclick="abrirSubmenu('Galleta de mantequilla', 15)">
      <td>Galleta de mantequilla</td>
      <td>$15</td>
    </tr>
  </tbody>
</table>

<!-- SUBMENÚ emergente -->
<div id="submenu">
  <h3>Personaliza tu postre</h3>
  <p><strong id="postreSeleccionado"></strong></p>

  <label for="cobertura">Cobertura:</label>
  <select id="cobertura">
    <option>Betún de mantequilla</option>
    <option>Ganache</option>
    <option>Merengue</option>
    <option>Fondant</option>
  </select>

  <label for="relleno">Relleno:</label>
  <select id="relleno">
    <option>Fresa con crema</option>
    <option>Chocolate</option>
    <option>Cajeta</option>
    <option>Nutella</option>
  </select>

  <label for="sabor">Sabor:</label>
  <select id="sabor">
    <option>Vainilla</option>
    <option>Chocolate</option>
    <option>Red velvet</option>
    <option>Limón</option>
  </select>

  <button onclick="agregarAlCarrito()">Agregar al carrito</button>
  <button onclick="cerrarSubmenu()">Cancelar</button>
</div>

<!-- CARRITO -->
<div id="carrito">
  <h3>Carrito de postres personalizados:</h3>
  <ul id="listaCarrito"></ul>
</div>

<script>
  let postreActual = '';
  let precioActual = 0;

  function abrirSubmenu(nombre, precio) {
    postreActual = nombre;
    precioActual = precio;
    document.getElementById('postreSeleccionado').textContent = nombre + " - $" + precio;
    document.getElementById('submenu').style.display = 'block';
  }

  function cerrarSubmenu() {
    document.getElementById('submenu').style.display = 'none';
  }

  function agregarAlCarrito() {
    const cobertura = document.getElementById('cobertura').value;
    const relleno = document.getElementById('relleno').value;
    const sabor = document.getElementById('sabor').value;

    const descripcion = `${postreActual} (${sabor}) con cobertura de ${cobertura} y relleno de ${relleno} - $${precioActual}`;
    const li = document.createElement('li');
    li.textContent = descripcion;

    document.getElementById('listaCarrito').appendChild(li);
    cerrarSubmenu();
  }
</script>

</body>
</html>
